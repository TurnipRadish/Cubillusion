$particle flame ^ ^ ^$(distance) 0.1 0.1 0.1 0.3 $(count)

$execute positioned ^ ^ ^$(distance) run damage @n[distance=..3,type=!player] 1 player_attack by @s

